<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.module.bo.cm.cmc.repository.CmmnCdMapper">

    <select id="selCmmnCdList" resultType="com.project.module.bo.cm.cmc.domain.vo.CmmnCdVO" >
        /* CmmnCdMapper.selCmmnCdList -- 공통 코드 기본 목록 조회 */
        select a.grp_cd                        /* 그룹코드 */
        , a.job_lcl_cd                    /* 업무대분류코드 */
        , a.grp_cd_nm                     /* 그룹코드명 */
        , a.grp_cd_dc                     /* 그룹코드설명 */
        , a.use_yn                        /* 사용여부 */
        , a.fst_user_fd                   /* 첫번째사용자필드 */
        , a.scd_user_fd                   /* 두번째사용자필드 */
        , a.thd_user_fd                   /* 세번째사용자필드 */
        , a.four_user_fd                  /* 네번째사용자필드 */
        , a.ffth_user_fd                  /* 다섯번째사용자필드 */
        , a.six_user_fd                   /* 여섯번째사용자필드 */
        , a.fr_rger_id                    /* 최초등록자아이디 */
        , DATE_FORMAT(a.fr_rg_dtm, '%Y-%m-%d %H:%i:%s') as fr_rg_dtm /* 최초등록일시 */
        , a.ls_updr_id                    /* 최종수정자아이디 */
        , DATE_FORMAT(a.fr_rg_dtm, '%Y-%m-%d %H:%i:%s') as ls_updt_dtm /* 최종수정일시 */
        from tb_cmmn_cd a               /* 공통코드 */
        where 1=1
        <if test="grpCd != null and !grpCd.equals('')">
            and (a.grp_cd like CONCAT('%', #{grpCd}, '%') or a.grp_cd_nm like CONCAT('%', #{grpCd}, '%'))
        </if>
        <if test="jobLclCd != null and !jobLclCd.equals('')">
            and a.job_lcl_cd = #{jobLclCd}
        </if>
        <if test="useYn != null and !useYn.equals('')">
            and a.use_yn = #{useYn}
        </if>
        order by a.grp_cd
    </select>

</mapper>


